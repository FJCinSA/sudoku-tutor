/*
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  SUDOKU TUTOR â€” style.css  (v2 â€” improved)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  All visual styling in one place.
  Edit the :root variables at the top to fully
  reskin the app â€” nothing else needs changing.

  SECTIONS:
    1.  Reset & CSS Variables
    2.  Page Layout
    3.  Header & Tagline
    4.  Difficulty Selector Bar
    5.  Stats Bar (mistakes / score / streak / time)
    6.  Progress Bar
    7.  Board Grid
    8.  Cell Base Styles
    9.  Cell State Modifiers
   10.  Pencil-Note Mini Grid
   11.  Keyframe Animations
   12.  Action Buttons
   13.  Number Pad
   14.  Teaching Panel Shell
   15.  Tutor Tab
   16.  Lessons Tab
   17.  Techniques Tab
   18.  Win Modal
   19.  Loading Overlay
   20.  Tooltips & Accessibility
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
*/


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   1. RESET & CSS VARIABLES
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   All colour tokens live here.
   Change a variable â†’ whole app updates.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  /* Backgrounds */
  --bg:   #111009;    /* page: rich near-black */
  --sf:   #1c1912;    /* surface: cell / panel background */
  --sf2:  #252017;    /* surface hover state */
  --sf3:  #2e2819;    /* surface pressed / active */

  /* Borders */
  --bd:   #302820;    /* thin cell grid lines */
  --bt:   #5c4e3e;    /* thick 3Ã—3 box borders */

  /* Text */
  --tx:   #e8ddd0;    /* primary text: warm off-white */
  --mu:   #9a8b78;    /* muted: secondary labels */
  --dm:   #6a5e50;    /* dim: least important info */

  /* Accent â€” gold */
  --ac:   #d4a050;    /* gold highlight */
  --ag:   #d4a05020;  /* gold translucent fill */
  --ah:   #d4b070;    /* gold hover */

  /* Givens */
  --gv:   #b0a090;    /* puzzle-printed numbers: stone */

  /* Success â€” green */
  --ok:   #68ad68;    /* correct placement */
  --og:   #68ad6820;  /* correct translucent */

  /* Error â€” red */
  --er:   #c45c4a;    /* wrong placement */
  --eg:   #c45c4a20;  /* error translucent */

  /* Note mode accent â€” soft blue */
  --nb:   #5b8db8;    /* note-mode border */
  --ng:   #5b8db820;  /* note-mode fill */

  /* Sizing */
  --board-max: 390px;   /* maximum board / panel width */
  --radius:    8px;      /* standard corner radius */
  --radius-sm: 5px;      /* small corner radius */
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   2. PAGE LAYOUT
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Everything centred, max-width capped,
   vertical scroll only.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

body {
  background: var(--bg);
  color: var(--tx);
  font-family: 'Georgia', 'Segoe UI', sans-serif;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 14px 12px 24px;
  overflow-x: hidden;
  /* Subtle warm vignette */
  background-image: radial-gradient(ellipse 120% 60% at 50% 0%, #2a1e0d18 0%, transparent 70%);
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   3. HEADER & TAGLINE
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* App name */
h1 {
  font-family: Georgia, 'Times New Roman', serif;
  font-size: 1.75rem;
  color: var(--ac);
  letter-spacing: 3px;
  margin-top: 4px;
  /* Subtle text-shadow warmth */
  text-shadow: 0 0 30px #d4a05030;
}

/* "Learn Â· Solve Â· Master" tagline */
.sub {
  font-size: .6rem;
  color: var(--dm);
  letter-spacing: 5px;
  text-transform: uppercase;
  margin-bottom: 14px;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   4. DIFFICULTY SELECTOR
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Five buttons: Beginner â†’ Expert
   Active button glows gold.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.dbar {
  display: flex;
  gap: 5px;
  margin-bottom: 14px;
  flex-wrap: wrap;
  justify-content: center;
}

/* Single difficulty button */
.dbtn {
  padding: 5px 13px;
  font-size: .7rem;
  font-family: inherit;
  border: 1px solid var(--bd);
  background: var(--sf);
  color: var(--mu);
  border-radius: var(--radius-sm);
  cursor: pointer;
  text-transform: capitalize;
  letter-spacing: .5px;
  transition: border-color .2s, color .2s, background .2s;
}
.dbtn:hover:not(.on) {
  border-color: var(--bt);
  color: var(--tx);
}

/* Selected difficulty */
.dbtn.on {
  border-color: var(--ac);
  color: var(--ac);
  background: var(--ag);
  font-weight: 600;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   5. STATS BAR
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Shows:  âŒ mistakes  âš¡ score  ğŸ”¥ streak  â± time
   Monospaced so numbers don't jump around.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  max-width: var(--board-max);
  font-size: .72rem;
  color: var(--mu);
  font-family: 'Courier New', 'Lucida Console', monospace;
  margin-bottom: 5px;
  padding: 0 3px;
  gap: 6px;
}

/* Individual stat labels */
.info span {
  display: flex;
  align-items: center;
  gap: 3px;
  white-space: nowrap;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   6. PROGRESS BAR
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Gold fill advances as cells are solved.
   Glows briefly after each correct placement.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Track */
.pbar {
  width: 100%;
  max-width: var(--board-max);
  height: 3px;
  background: var(--sf3);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 9px;
}

/* Fill â€” width animated via JS */
.pf {
  height: 100%;
  background: linear-gradient(90deg, var(--ac) 0%, #e8c870 100%);
  border-radius: 2px;
  transition: width .45s cubic-bezier(.4,0,.2,1);
  will-change: width;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   7. BOARD GRID
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   9Ã—9 grid.  Max 390 px, always square.
   Box borders divide into 3Ã—3 sub-grids.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.board {
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  border: 2.5px solid var(--bt);
  border-radius: var(--radius);
  overflow: hidden;
  width: min(var(--board-max), calc(100vw - 26px));
  aspect-ratio: 1 / 1;
  /* Warm drop shadow + subtle gold ambient glow */
  box-shadow:
    0 10px 40px #0008,
    0 0  60px #d4a05015;
  transition: border-color .3s, box-shadow .3s;
  will-change: box-shadow;
}

/* Note-mode: rim shifts to blue so player always knows the mode */
.board.note-mode {
  border-color: var(--nb);
  box-shadow: 0 10px 40px #0008, 0 0 40px #5b8db820;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   8. CELL BASE STYLES
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Each of the 81 cells.
   Grid lines are thin inside, thick at box edges.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.c {
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Courier New', 'Lucida Console', monospace;
  font-size: clamp(.82rem, 2.8vw, 1.18rem);
  background: var(--sf);
  cursor: pointer;
  user-select: none;
  -webkit-user-select: none;
  transition: background .1s;
  border-right: 1px solid var(--bd);
  border-bottom: 1px solid var(--bd);
  position: relative;    /* anchors the pencil-note grid */
  overflow: hidden;
  /* GPU compositing layer for smoother animation */
  will-change: transform;
}

/* Remove double-borders on right & bottom edges */
.c:nth-child(9n)   { border-right: none; }
.c:nth-child(n+73) { border-bottom: none; }

/* Thick lines at column 3 / 6 â€” right edge of each box */
.c[data-c="2"], .c[data-c="5"] { border-right: 2.5px solid var(--bt); }

/* Thick lines at row 3 / 6 â€” bottom edge of each box */
.c[data-r="2"], .c[data-r="5"] { border-bottom: 2.5px solid var(--bt); }

/* Given (printed) numbers â€” stone colour, bold */
.c.gv { color: var(--gv); font-weight: 700; }

/* Player-placed number â€” full white */
.c.ip { color: var(--tx); font-weight: 500; }

/* Tap visual feedback on mobile */
.c:active:not(.sl) {
  background: var(--sf2);
  transform: scale(.95);
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   9. CELL STATE MODIFIERS
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Applied by render.js according to game state.
   Priority (lowest â†’ highest): hl â†’ sm â†’ hc â†’ cf â†’ sl
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Highlighted: same row, column, or box as the selected cell */
.c.hl { background: #d4a0500a; }

/* Same value: shares the selected cell's correct number */
.c.sm {
  background: #d4a05032;
  box-shadow: inset 0 0 0 1px #d4a05055;
}

/* Hint: the cell the tutor is pointing at â€” green pulse */
.c.hc {
  background: var(--og);
  box-shadow: inset 0 0 0 2px var(--ok);
  animation: hintPulse 1.6s ease-in-out infinite;
}

/* Conflict: wrong number placed â€” red shake */
.c.cf {
  background: var(--eg);
  box-shadow: inset 0 0 0 2px var(--er);
  animation: shake .38s ease-in-out;
}

/* Error text colour (check mode ON + wrong number) */
.c.er { color: var(--er); }

/* Selected cell â€” gold border + breathing glow */
.c.sl {
  background: var(--ag);
  box-shadow: inset 0 0 0 2px var(--ac);
  z-index: 2;
  animation: breatheGold 2s ease-in-out infinite;
}

/* Note-mode selected cell â€” blue instead of gold */
.board.note-mode .c.sl {
  background: var(--ng);
  box-shadow: inset 0 0 0 2px var(--nb);
  animation: breatheBlue 2s ease-in-out infinite;
}

/* Correct placement â€” green pop-in */
.c.ok { animation: popCorrect .45s ease-out; color: var(--ok); }

/* Streak burst â€” gold flare */
.c.sk { animation: streakBurst .55s ease-out; }

/* Completed unit (row / column / box) â€” sweep flash */
.c.uf { animation: unitFlash .75s ease-out; }


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   10. PENCIL-NOTE MINI GRID
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   When a cell is empty and has notes, a 3Ã—3
   grid of tiny digits (1-9) is drawn inside it.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Overlay grid */
.nt {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows:    repeat(3, 1fr);
  position: absolute;
  inset: 0;
  padding: 2px;
}

/* Each note digit */
.nt span {
  font-size: clamp(.28rem, .9vw, .44rem);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #c0a880;         /* warm amber-ish, easy to read */
  font-weight: 600;
  line-height: 1;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   11. KEYFRAME ANIMATIONS
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Horizontal shake â€” wrong answer */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20%       { transform: translateX(-4px); }
  40%       { transform: translateX(4px); }
  60%       { transform: translateX(-2px); }
  80%       { transform: translateX(2px); }
}

/* Gold breathe â€” selected cell */
@keyframes breatheGold {
  0%, 100% { box-shadow: inset 0 0 0 2px var(--ac); }
  50%       { box-shadow: inset 0 0 0 2px var(--ac), 0 0 14px #d4a05040; }
}

/* Blue breathe â€” note-mode selected */
@keyframes breatheBlue {
  0%, 100% { box-shadow: inset 0 0 0 2px var(--nb); }
  50%       { box-shadow: inset 0 0 0 2px var(--nb), 0 0 14px #5b8db840; }
}

/* Green throb â€” hint cell */
@keyframes hintPulse {
  0%, 100% { box-shadow: inset 0 0 0 2px var(--ok); }
  50%       { box-shadow: inset 0 0 0 2px var(--ok), 0 0 18px #68ad6840; }
}

/* Scale pop â€” correct placement */
@keyframes popCorrect {
  0%   { transform: scale(.5);  opacity: .3; }
  55%  { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(1);   opacity: 1; }
}

/* Gold burst â€” streak */
@keyframes streakBurst {
  0%   { background: #d4a05050; transform: scale(1); }
  35%  { background: #d4a05080; transform: scale(1.1); }
  100% { background: var(--sf); transform: scale(1); }
}

/* Colour sweep â€” unit completed */
@keyframes unitFlash {
  0%   { background: #d4a05030; }
  50%  { background: #68ad6830; }
  100% { background: var(--sf); }
}

/* Board rim flash â€” wrong answer */
@keyframes boardFlash {
  0%, 100% { box-shadow: 0 10px 40px #0008, 0 0 60px #d4a05015; }
  50%       { box-shadow: 0 10px 40px #0008, 0 0 30px #c45c4a40; }
}
.board.err-flash { animation: boardFlash .45s ease-out; }

/* Progress bar glow â€” after correct placement */
@keyframes progressGlow {
  0%   { filter: brightness(1); }
  50%  { filter: brightness(1.7); }
  100% { filter: brightness(1); }
}
.pf.glow { animation: progressGlow .55s ease-out; }

/* Score pop-up that floats upward */
.score-pop {
  position: fixed;
  pointer-events: none;
  font-family: 'Courier New', monospace;
  font-size: .82rem;
  font-weight: 700;
  z-index: 50;
  animation: scoreFly .95s ease-out forwards;
}
@keyframes scoreFly {
  0%   { opacity: 1;  transform: translateY(0)    scale(1); }
  100% { opacity: 0;  transform: translateY(-52px) scale(1.3); }
}

/* Win modal card pop */
.mo.sh .mi2 { animation: modalPop .38s ease-out; }
@keyframes modalPop {
  0%   { transform: scale(.65); opacity: 0; }
  70%  { transform: scale(1.04); opacity: 1; }
  100% { transform: scale(1);   opacity: 1; }
}

/* Loading fade-in */
@keyframes loadFade {
  0%   { opacity: 1; }
  100% { opacity: 0; pointer-events: none; }
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   12. ACTION BUTTONS
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Row of tool buttons below the board.
   Each has a tooltip via the title attribute.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.acts {
  display: flex;
  gap: 5px;
  flex-wrap: wrap;
  justify-content: center;
  width: 100%;
  max-width: var(--board-max);
  margin-top: 9px;
}

/* Single action button */
.ab {
  padding: 7px 11px;
  font-size: .68rem;
  font-family: inherit;
  border: 1px solid var(--bd);
  background: var(--sf);
  color: var(--mu);
  border-radius: var(--radius-sm);
  cursor: pointer;
  white-space: nowrap;
  letter-spacing: .3px;
  transition: border-color .18s, color .18s, background .18s;
  /* Native tooltip support */
  position: relative;
}
.ab:hover:not(.on) {
  border-color: var(--bt);
  color: var(--tx);
  background: var(--sf2);
}

/* Active state â€” Notes ON / Check ON / Paused */
.ab.on {
  border-color: var(--ac);
  color: var(--ac);
  background: var(--ag);
}

/* Note-mode ON: blue accent instead of gold */
.ab.note-active {
  border-color: var(--nb);
  color: var(--nb);
  background: var(--ng);
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   13. NUMBER PAD
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Buttons 1-9 in a row.
   Small counter below each shows how many
   of that digit have been placed so far.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.np {
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 4px;
  width: 100%;
  max-width: var(--board-max);
  margin-top: 9px;
}

/* Single number button */
.nb {
  padding: 9px 0 6px;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: 'Courier New', monospace;
  font-size: clamp(.78rem, 2.4vw, 1rem);
  font-weight: 600;
  background: var(--sf);
  border: 1px solid var(--bd);
  border-radius: var(--radius-sm);
  color: var(--tx);
  cursor: pointer;
  min-width: 0;
  transition: background .12s, border-color .12s, transform .1s;
}
.nb:hover { background: var(--sf2); border-color: var(--bt); }
.nb:active { transform: scale(.92); background: var(--sf3); }

/* All 9 placed â€” grey out entirely */
.nb.dn {
  opacity: .22;
  pointer-events: none;
  cursor: default;
}

/* "x/9" placement counter below the digit */
.nb small {
  font-size: .38rem;
  color: var(--dm);
  margin-top: 2px;
  font-weight: 400;
  letter-spacing: .5px;
  font-family: inherit;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   14. TEACHING PANEL SHELL
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Rounded card below the number pad.
   Contains three tabs: Tutor / Lessons / Techniques.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.pn {
  width: 100%;
  max-width: var(--board-max);
  background: #181510;
  border: 1px solid var(--bd);
  border-radius: var(--radius);
  overflow: hidden;
  margin-top: 13px;
}

/* Tab button row */
.tbs {
  display: flex;
  border-bottom: 1px solid var(--bd);
  background: var(--sf);
}

/* Single tab button */
.tb {
  flex: 1;
  padding: 9px 4px;
  font-size: .67rem;
  font-family: inherit;
  border: none;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  background: transparent;
  color: var(--dm);
  letter-spacing: .3px;
  transition: color .18s, background .18s, border-color .18s;
}
.tb:hover:not(.on) { color: var(--mu); background: var(--sf2); }

/* Active tab â€” gold underline */
.tb.on {
  border-bottom-color: var(--ac);
  background: var(--sf);
  color: var(--ac);
}

/* Scrollable tab body */
.tbd {
  padding: 14px 14px 16px;
  max-height: 340px;
  overflow-y: auto;
  /* Custom scrollbar */
  scrollbar-width: thin;
  scrollbar-color: var(--bt) transparent;
}
.tbd::-webkit-scrollbar { width: 4px; }
.tbd::-webkit-scrollbar-track { background: transparent; }
.tbd::-webkit-scrollbar-thumb { background: var(--bt); border-radius: 2px; }


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   15. TUTOR TAB
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Shows a contextual message + hint buttons.
   Updated whenever the player taps a cell or
   uses Show Move.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Emoji icon at top of message */
.mi { font-size: 1.1rem; margin-bottom: 3px; display: block; }

/* Message heading (e.g. "Naked Single!") */
.mt {
  font-family: Georgia, serif;
  font-size: .95rem;
  color: var(--ac);
  margin: 0 0 6px;
  line-height: 1.3;
}

/* Message body text */
.mb {
  font-size: .77rem;
  line-height: 1.65;
  color: var(--mu);
  white-space: pre-line;    /* preserves \n line breaks from hints */
}

/* Hint action buttons */
.hb {
  padding: 7px 15px;
  font-size: .7rem;
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-family: inherit;
  display: inline-block;
  margin: 6px 4px 0 0;
  transition: opacity .15s;
}
.hb:hover { opacity: .8; }

/* "Show Move" â€” gold */
.ha { border: 1px solid var(--ac); background: var(--ag); color: var(--ac); }

/* "Place N" â€” green */
.hg { border: 1px solid var(--ok); background: var(--og); color: var(--ok); }

/* Techniques-used log */
.tu {
  margin-top: 14px;
  padding: 9px 10px;
  background: var(--bg);
  border-radius: var(--radius-sm);
  border: 1px solid var(--bd);
}
.tu h4 {
  font-size: .62rem;
  color: var(--dm);
  margin-bottom: 5px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  font-weight: 400;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   16. LESSONS TAB
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Structured learning path with expandable cards.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Lesson card */
.li {
  padding: 10px 12px;
  margin-bottom: 7px;
  border: 1px solid var(--bd);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: border-color .2s, background .2s;
}
.li:hover:not(.on) { border-color: var(--bt); background: var(--sf); }

/* Active lesson card */
.li.on { background: var(--sf); border-color: var(--ac); }

/* Lesson title */
.li h4 {
  font-size: .77rem;
  font-weight: 600;
  color: var(--mu);
  transition: color .2s;
}
.li.on h4 { color: var(--ac); }

/* Lesson description (visible when expanded) */
.li p { font-size: .73rem; line-height: 1.6; color: var(--mu); margin: 5px 0; }

/* "Try this" tip banner */
.lt {
  font-size: .68rem;
  color: var(--ac);
  background: #d4a05010;
  padding: 5px 8px;
  border-radius: 4px;
  border-left: 2px solid var(--ac);
  margin-top: 5px;
}

/* Pro upsell box */
.us {
  margin-top: 14px;
  padding: 14px;
  background: linear-gradient(135deg, #241a0e, #181410);
  border: 1px solid var(--bt);
  border-radius: var(--radius-sm);
  text-align: center;
}
.us h4 { font-size: .8rem; color: var(--ac); font-weight: 600; margin-bottom: 4px; }
.us p  { font-size: .7rem; color: var(--mu); margin: 3px 0 10px; line-height: 1.45; }
.us button {
  padding: 7px 18px;
  font-size: .72rem;
  border: 1px solid var(--ac);
  background: var(--ac);
  color: var(--bg);
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-weight: 700;
  font-family: inherit;
  transition: background .15s;
}
.us button:hover { background: var(--ah); }


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   17. TECHNIQUES TAB
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Accordion cards, one per technique.
   Each shows: what it is, how to use it, example.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Accordion wrapper */
details {
  margin-bottom: 7px;
  background: var(--sf);
  border: 1px solid var(--bd);
  border-radius: var(--radius-sm);
  overflow: hidden;
  transition: border-color .2s;
}
details[open] { border-color: var(--bt); }

/* Accordion header row */
summary {
  padding: 9px 11px;
  font-size: .77rem;
  color: var(--tx);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 7px;
  list-style: none;
  user-select: none;
  transition: background .15s;
}
summary:hover { background: var(--sf2); }
summary::-webkit-details-marker { display: none; }

/* Difficulty badge (Beginner / Intermediate / Advanced) */
.tg {
  font-size: .54rem;
  padding: 2px 7px;
  border-radius: 4px;
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
}

/* Accordion body */
.td {
  padding: 0 11px 11px;
  font-size: .74rem;
  line-height: 1.6;
  color: var(--mu);
}

/* Info box within accordion (How to use / Example) */
.tx {
  background: var(--bg);
  border-radius: 5px;
  padding: 7px 9px;
  margin: 5px 0;
}
.tx strong {
  font-size: .6rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  display: block;
  margin-bottom: 3px;
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   18. WIN MODAL
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Full-screen overlay + centred card.
   Shown when the puzzle is fully solved.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Backdrop */
.mo {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.72);
  backdrop-filter: blur(3px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 100;
}
.mo.sh { display: flex; }

/* Card */
.mi2 {
  background: var(--sf);
  border: 1px solid var(--bt);
  border-radius: 14px;
  padding: 34px 28px;
  text-align: center;
  max-width: 340px;
  margin: 16px;
  box-shadow: 0 20px 60px #0009;
}

/* Win headline */
.mo h2 {
  font-family: Georgia, serif;
  color: var(--ac);
  font-size: 1.4rem;
  margin: 0 0 7px;
  text-shadow: 0 0 20px #d4a05030;
}

/* Stats summary */
.mo p {
  color: var(--mu);
  font-size: .8rem;
  line-height: 1.6;
  margin: 0 0 16px;
}

/* Button row */
.mbs {
  display: flex;
  gap: 9px;
  justify-content: center;
}
.mbs button {
  padding: 9px 20px;
  font-size: .78rem;
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-family: inherit;
  transition: opacity .15s;
}
.mbs button:hover { opacity: .85; }

/* Primary: gold filled â€” "Play Again" */
.bp {
  border: 1px solid var(--ac);
  background: var(--ac);
  color: var(--bg);
  font-weight: 700;
}

/* Secondary: outline â€” "Next Level â†’" */
.bs {
  border: 1px solid var(--bd);
  background: var(--sf);
  color: var(--mu);
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   19. LOADING OVERLAY
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Shown for ~200 ms while the puzzle generates
   so the UI never feels frozen.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

#loadOverlay {
  position: fixed;
  inset: 0;
  background: var(--bg);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
  pointer-events: none;
  opacity: 0;
  transition: opacity .25s;
}
#loadOverlay.show {
  opacity: 1;
  pointer-events: all;
}
#loadOverlay span {
  font-family: Georgia, serif;
  font-size: .85rem;
  color: var(--ac);
  letter-spacing: 3px;
  text-transform: uppercase;
  animation: loadPulse 1s ease-in-out infinite;
}
@keyframes loadPulse {
  0%, 100% { opacity: .4; }
  50%       { opacity: 1; }
}


/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   20. TOOLTIPS & ACCESSIBILITY
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Native title="â€¦" tooltips styled via pointer.
   Screen-reader helpers.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Show pointer on all interactive elements */
button, .li, summary, .c { cursor: pointer; }

/* Focus ring (keyboard navigation) */
button:focus-visible,
.c:focus-visible {
  outline: 2px solid var(--ac);
  outline-offset: 1px;
}

/* Screen-reader only text */
.sr-only {
  position: absolute;
  width: 1px; height: 1px;
  padding: 0; overflow: hidden;
  clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   21. HINT HIGHLIGHTING
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Rich contextual highlighting when "Show Move"
   is tapped. Every cell is classified:
     ht-target â€” place digit here (gold pulse)
     ht-peer   â€” blocking digit (blue tint)
     ht-unit   â€” same row/col/box (light tint)
     ht-dim    â€” not involved (dimmed)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Target cell â€” gold pulse, this is where the digit goes */
.c.ht-target {
  background: #d4a05028;
  box-shadow: inset 0 0 0 2px var(--ac), 0 0 12px #d4a05055;
  animation: hintTargetPulse 1.2s ease-in-out infinite;
  z-index: 2;
}

/* Ghost digit â€” shown faintly in the target cell */
.ht-ghost {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.3em;
  color: var(--ac);
  opacity: 0.4;
  pointer-events: none;
  font-family: Georgia, serif;
  font-weight: 700;
}

/* Peer cells â€” digits that block the target cell */
.c.ht-peer {
  background: #5b8db820;
  box-shadow: inset 0 0 0 1px #5b8db855;
}

/* Unit cells â€” rest of the relevant row/col/box */
.c.ht-unit {
  background: #d4a0500a;
}

/* Dimmed cells â€” not part of this technique */
.c.ht-dim {
  opacity: 0.28;
}

/* Hint digit highlighted on the number pad */
.nb.hn {
  background: var(--ac) !important;
  color: #090806 !important;
  box-shadow: 0 0 12px #d4a05066 !important;
  font-weight: 700;
}

/* Clear hint button â€” subtle, secondary */
.hb.hc-btn {
  background: transparent !important;
  border: 1px solid #3a342844 !important;
  color: var(--mu) !important;
  font-size: .68rem !important;
  padding: 6px 10px !important;
}
.hb.hc-btn:hover {
  border-color: var(--ac) !important;
  color: var(--ac) !important;
}

/* Pulse animation for target cell */
@keyframes hintTargetPulse {
  0%, 100% { box-shadow: inset 0 0 0 2px var(--ac), 0 0 6px #d4a05033; }
  50%       { box-shadow: inset 0 0 0 2px var(--ac), 0 0 20px #d4a05077; }
}
